{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import Home from\"./pages/Home\";import Login from\"./pages/Login\";import Register from\"./pages/Register\";import AdminDashboard from\"./pages/AdminDashboard\";import AdminUserManagement from\"./pages/AdminUserManagement\";import AdminAddUser from\"./pages/AdminAddUser\";import AdminBlockedUsers from\"./pages/AdminBlockedUsers\";import GroupCreate from\"./pages/GroupCreate\";import GroupsPage from\"./pages/GroupsPage\";import ReportedPosts from\"./pages/admin/ReportedPosts\";// Import the ReportedPosts page\nimport Profile from\"./pages/Profile\";import EditProfile from\"./pages/EditProfile\";import{AuthProvider}from\"./context/AuthContext\";import PrivateRoute from\"./components/PrivateRoute\";// Update this line\nimport Header from\"./components/Header\";// Import the Header component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const AdminRoute=_ref=>{let{children}=_ref;const user=JSON.parse(localStorage.getItem(\"user\")||\"{}\");if(!user||!user.id){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}if(user.role!==\"ROLE_ADMIN\"){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return children;};// Create a user route that doesn't immediately redirect\nconst UserAwareRoute=_ref2=>{let{children}=_ref2;// This doesn't force a redirect - component will handle display accordingly\nreturn children;};return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(Router,{future:{v7_startTransition:true,v7_relativeSplatPath:true},children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminUserManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users/add\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminAddUser,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users/blocked\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminBlockedUsers,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/reports\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(ReportedPosts,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/groups/create\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(GroupCreate,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/groups\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(GroupsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/groups/:type\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(GroupsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userId\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-profile\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(EditProfile,{})})})]})]})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","Home","Login","Register","AdminDashboard","AdminUserManagement","AdminAddUser","AdminBlockedUsers","GroupCreate","GroupsPage","ReportedPosts","Profile","EditProfile","AuthProvider","PrivateRoute","Header","jsx","_jsx","jsxs","_jsxs","App","AdminRoute","_ref","children","user","JSON","parse","localStorage","getItem","id","to","role","UserAwareRoute","_ref2","future","v7_startTransition","v7_relativeSplatPath","path","element"],"sources":["C:/Users/isuru/Documents/SLIIT/y3paf/skill-bridge/frontend/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n} from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport AdminDashboard from \"./pages/AdminDashboard\";\r\nimport AdminUserManagement from \"./pages/AdminUserManagement\";\r\nimport AdminAddUser from \"./pages/AdminAddUser\";\r\nimport AdminBlockedUsers from \"./pages/AdminBlockedUsers\";\r\nimport GroupCreate from \"./pages/GroupCreate\";\r\nimport GroupsPage from \"./pages/GroupsPage\";\r\nimport ReportedPosts from \"./pages/admin/ReportedPosts\"; // Import the ReportedPosts page\r\nimport Profile from \"./pages/Profile\";\r\nimport EditProfile from \"./pages/EditProfile\";\r\nimport { AuthProvider } from \"./context/AuthContext\";\r\nimport PrivateRoute from \"./components/PrivateRoute\"; // Update this line\r\nimport Header from \"./components/Header\"; // Import the Header component\r\n\r\nfunction App() {\r\n  const AdminRoute = ({ children }) => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n\r\n    if (!user || !user.id) {\r\n      return <Navigate to=\"/login\" />;\r\n    }\r\n\r\n    if (user.role !== \"ROLE_ADMIN\") {\r\n      return <Navigate to=\"/\" />;\r\n    }\r\n\r\n    return children;\r\n  };\r\n\r\n  // Create a user route that doesn't immediately redirect\r\n  const UserAwareRoute = ({ children }) => {\r\n    // This doesn't force a redirect - component will handle display accordingly\r\n    return children;\r\n  };\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <Router future={{ v7_startTransition: true, v7_relativeSplatPath: true }}>\r\n        {/* Include Header only once here */}\r\n        <Header />\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"/register\" element={<Register />} />\r\n\r\n          {/* Admin Routes */}\r\n          <Route\r\n            path=\"/admin/dashboard\"\r\n            element={\r\n              <AdminRoute>\r\n                <AdminDashboard />\r\n              </AdminRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/admin/users\"\r\n            element={\r\n              <AdminRoute>\r\n                <AdminUserManagement />\r\n              </AdminRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/admin/users/add\"\r\n            element={\r\n              <AdminRoute>\r\n                <AdminAddUser />\r\n              </AdminRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/admin/users/blocked\"\r\n            element={\r\n              <AdminRoute>\r\n                <AdminBlockedUsers />\r\n              </AdminRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/admin/reports\"\r\n            element={\r\n              <AdminRoute>\r\n                <ReportedPosts />\r\n              </AdminRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/groups/create\"\r\n            element={\r\n              <PrivateRoute>\r\n                <GroupCreate />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/groups\"\r\n            element={\r\n              <PrivateRoute>\r\n                <GroupsPage />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/groups/:type\"\r\n            element={\r\n              <PrivateRoute>\r\n                <GroupsPage />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          {/* Profile Routes */}\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <PrivateRoute>\r\n                <Profile />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/profile/:userId\"\r\n            element={\r\n              <PrivateRoute>\r\n                <Profile />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/edit-profile\"\r\n            element={\r\n              <PrivateRoute>\r\n                <EditProfile />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          {/* Add other routes as needed */}\r\n        </Routes>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}