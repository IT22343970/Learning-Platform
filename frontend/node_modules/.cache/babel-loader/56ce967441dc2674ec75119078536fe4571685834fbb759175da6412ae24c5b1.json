{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,Link}from\"react-router-dom\";import axiosInstance from\"../utils/axios\";import GroupCard from\"../components/GroupCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GroupsPage(){const[groups,setGroups]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const{type}=useParams();// \"my-groups\" or undefined for all groups\nconst user=JSON.parse(localStorage.getItem(\"user\")||\"{}\");useEffect(()=>{const fetchGroups=async()=>{try{const endpoint=type===\"my-groups\"?`/api/groups/user/${user.id}`:\"/api/groups\";const response=await axiosInstance.get(endpoint);setGroups(response.data);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to load groups\");}finally{setLoading(false);}};fetchGroups();},[type,user.id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:type===\"my-groups\"?\"My Groups\":\"All Groups\"}),/*#__PURE__*/_jsx(Link,{to:\"/groups/create\",className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\",children:\"Create Group\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-50 border-l-4 border-red-400 text-red-700\",children:error}),groups.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No groups found.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:groups.map(group=>/*#__PURE__*/_jsx(GroupCard,{group:group},group.id))})]});}export default GroupsPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axiosInstance","GroupCard","jsx","_jsx","jsxs","_jsxs","GroupsPage","groups","setGroups","loading","setLoading","error","setError","type","user","JSON","parse","localStorage","getItem","fetchGroups","endpoint","id","response","get","data","err","_err$response","_err$response$data","message","className","children","to","length","map","group"],"sources":["C:/Users/isuru/Documents/SLIIT/y3paf/skill-bridge/frontend/src/pages/GroupsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport axiosInstance from \"../utils/axios\";\r\nimport GroupCard from \"../components/GroupCard\";\r\n\r\nfunction GroupsPage() {\r\n  const [groups, setGroups] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const { type } = useParams(); // \"my-groups\" or undefined for all groups\r\n  const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n\r\n  useEffect(() => {\r\n    const fetchGroups = async () => {\r\n      try {\r\n        const endpoint =\r\n          type === \"my-groups\" ? `/api/groups/user/${user.id}` : \"/api/groups\";\r\n        const response = await axiosInstance.get(endpoint);\r\n        setGroups(response.data);\r\n      } catch (err) {\r\n        setError(err.response?.data?.message || \"Failed to load groups\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGroups();\r\n  }, [type, user.id]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">\r\n          {type === \"my-groups\" ? \"My Groups\" : \"All Groups\"}\r\n        </h1>\r\n        <Link\r\n          to=\"/groups/create\"\r\n          className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\r\n        >\r\n          Create Group\r\n        </Link>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 p-4 bg-red-50 border-l-4 border-red-400 text-red-700\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {groups.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <p className=\"text-gray-500\">No groups found.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {groups.map((group) => (\r\n            <GroupCard key={group.id} group={group} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupsPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAC1C,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAEiB,IAAK,CAAC,CAAGf,SAAS,CAAC,CAAC,CAAE;AAC9B,KAAM,CAAAgB,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAC,CAE7DrB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CACZP,IAAI,GAAK,WAAW,CAAG,oBAAoBC,IAAI,CAACO,EAAE,EAAE,CAAG,aAAa,CACtE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAtB,aAAa,CAACuB,GAAG,CAACH,QAAQ,CAAC,CAClDZ,SAAS,CAACc,QAAQ,CAACE,IAAI,CAAC,CAC1B,CAAE,MAAOC,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZf,QAAQ,CAAC,EAAAc,aAAA,CAAAD,GAAG,CAACH,QAAQ,UAAAI,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcF,IAAI,UAAAG,kBAAA,iBAAlBA,kBAAA,CAAoBC,OAAO,GAAI,uBAAuB,CAAC,CAClE,CAAC,OAAS,CACRlB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDS,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACN,IAAI,CAAEC,IAAI,CAACO,EAAE,CAAC,CAAC,CAEnB,GAAIZ,OAAO,CAAE,CACX,mBACEN,IAAA,QAAK0B,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5D3B,IAAA,QAAK0B,SAAS,CAAC,gEAAgE,CAAM,CAAC,CACnF,CAAC,CAEV,CAEA,mBACExB,KAAA,QAAKwB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DzB,KAAA,QAAKwB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD3B,IAAA,OAAI0B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC7CjB,IAAI,GAAK,WAAW,CAAG,WAAW,CAAG,YAAY,CAChD,CAAC,cACLV,IAAA,CAACJ,IAAI,EACHgC,EAAE,CAAC,gBAAgB,CACnBF,SAAS,CAAC,gJAAgJ,CAAAC,QAAA,CAC3J,cAED,CAAM,CAAC,EACJ,CAAC,CAELnB,KAAK,eACJR,IAAA,QAAK0B,SAAS,CAAC,2DAA2D,CAAAC,QAAA,CACvEnB,KAAK,CACH,CACN,CAEAJ,MAAM,CAACyB,MAAM,GAAK,CAAC,cAClB7B,IAAA,QAAK0B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChC3B,IAAA,MAAG0B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CAAC,CAC9C,CAAC,cAEN3B,IAAA,QAAK0B,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEvB,MAAM,CAAC0B,GAAG,CAAEC,KAAK,eAChB/B,IAAA,CAACF,SAAS,EAAgBiC,KAAK,CAAEA,KAAM,EAAvBA,KAAK,CAACb,EAAmB,CAC1C,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAf,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}