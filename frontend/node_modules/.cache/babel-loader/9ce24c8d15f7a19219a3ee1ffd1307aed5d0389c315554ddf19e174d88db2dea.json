{"ast":null,"code":"var _jsxFileName = \"D:\\\\Y3S2\\\\Learning-Platform\\\\frontend\\\\src\\\\components\\\\Post.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axiosInstance from \"../utils/axios\";\nimport Comments from \"./Comments\";\nimport ReactionButton from \"./ReactionButton\";\nimport ReportModal from \"./ReportModal\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Post({\n  post,\n  onPostDeleted,\n  onPostUpdated\n}) {\n  _s();\n  var _post$comments, _post$userName, _post$imageUrls2;\n  const [showMenu, setShowMenu] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editContent, setEditContent] = useState(post.content);\n  const [editImages, setEditImages] = useState([]);\n  const [editPreviewUrls, setEditPreviewUrls] = useState([]);\n  const [deleting, setDeleting] = useState(false);\n  const [updating, setUpdating] = useState(false);\n  const [mediaUrls, setMediaUrls] = useState({});\n  const [mediaErrors, setMediaErrors] = useState({});\n  const [showComments, setShowComments] = useState(false);\n  const [showCommentInput, setShowCommentInput] = useState(false);\n  const [commentCount, setCommentCount] = useState(((_post$comments = post.comments) === null || _post$comments === void 0 ? void 0 : _post$comments.length) || 0);\n  const [isUserAdmin, setIsUserAdmin] = useState(false);\n  const [lastRefreshed, setLastRefreshed] = useState(Date.now());\n  const [showReportModal, setShowReportModal] = useState(false);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  useEffect(() => {\n    if (user && user.role === \"ROLE_ADMIN\") {\n      setIsUserAdmin(true);\n    }\n  }, [user]);\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  const getFullUrl = url => {\n    if (!url) return \"\";\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) return url;\n    return `${window.location.protocol}//${window.location.hostname}:8081${url}`;\n  };\n  const getMediaUrl = async (mediaId, originalUrl) => {\n    try {\n      const mediaType = post.mediaTypes && post.mediaTypes[mediaId];\n      const response = await axiosInstance.get(`/api/media/${mediaId}`, {\n        responseType: \"blob\"\n      });\n      if (response.data && response.data.url) {\n        return response.data.url;\n      } else if (response.data instanceof Blob && response.data.size > 0) {\n        return URL.createObjectURL(response.data);\n      }\n      console.warn(`Invalid or empty media data for ${mediaId}, using fallback URL`);\n      return getFullUrl(originalUrl);\n    } catch (error) {\n      console.error(`Error loading media ${mediaId}:`, error);\n      setMediaErrors(prev => ({\n        ...prev,\n        [mediaId]: true\n      }));\n      return getFullUrl(originalUrl);\n    }\n  };\n  useEffect(() => {\n    const loadMedia = async () => {\n      var _post$imageUrls;\n      const newMediaUrls = {};\n      if (post.videoUrl) {\n        const mediaId = post.videoUrl.split(\"/\").pop();\n        try {\n          newMediaUrls.video = await getMediaUrl(mediaId, post.videoUrl);\n        } catch (error) {\n          console.error(\"Failed to load video:\", error);\n        }\n      }\n      if ((_post$imageUrls = post.imageUrls) !== null && _post$imageUrls !== void 0 && _post$imageUrls.length) {\n        for (const url of post.imageUrls) {\n          const mediaId = url.split(\"/\").pop();\n          try {\n            const mediaUrl = await getMediaUrl(mediaId, url);\n            newMediaUrls[mediaId] = mediaUrl;\n          } catch (error) {\n            console.error(\"Failed to load image:\", error);\n          }\n        }\n      }\n      setMediaUrls(newMediaUrls);\n    };\n    loadMedia();\n    return () => {\n      Object.values(mediaUrls).forEach(url => {\n        if (url && typeof url === \"string\" && url.startsWith(\"blob:\")) {\n          URL.revokeObjectURL(url);\n        }\n      });\n    };\n  }, [post.videoUrl, post.imageUrls]);\n  const refreshPostData = async () => {\n    try {\n      const response = await axiosInstance.get(`/api/posts/${post.id}`);\n      if (response.data) {\n        var _response$data$commen;\n        setCommentCount(((_response$data$commen = response.data.comments) === null || _response$data$commen === void 0 ? void 0 : _response$data$commen.length) || 0);\n        onPostUpdated === null || onPostUpdated === void 0 ? void 0 : onPostUpdated(response.data);\n        setLastRefreshed(Date.now());\n      }\n    } catch (error) {\n      console.error(\"Error refreshing post data:\", error);\n    }\n  };\n  useEffect(() => {\n    let refreshInterval;\n    if (!showComments) {\n      refreshInterval = setInterval(() => {\n        refreshPostData();\n      }, 30000);\n    }\n    return () => {\n      if (refreshInterval) clearInterval(refreshInterval);\n    };\n  }, [showComments, post.id]);\n  const handleReactionChange = reactionData => {\n    setTimeout(() => {\n      refreshPostData();\n    }, 500);\n  };\n  const handleDelete = async () => {\n    if (!window.confirm(\"Are you sure you want to delete this post?\")) return;\n    try {\n      setDeleting(true);\n      if (isUserAdmin && user.id !== post.userId) {\n        await axiosInstance.delete(`/api/posts/${post.id}?userId=${user.id}&isAdmin=true`);\n      } else {\n        await axiosInstance.delete(`/api/posts/${post.id}?userId=${user.id}`);\n      }\n      onPostDeleted === null || onPostDeleted === void 0 ? void 0 : onPostDeleted(post.id);\n      setShowMenu(false);\n    } catch (error) {\n      console.error(\"Error deleting post:\", error);\n      alert(\"Failed to delete post. Please try again.\");\n    } finally {\n      setDeleting(false);\n    }\n  };\n  const handleEdit = () => {\n    setIsEditing(true);\n    setShowMenu(false);\n    setEditContent(post.content);\n    setEditImages([]);\n    setEditPreviewUrls([]);\n  };\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    setEditImages(files);\n    const urls = files.map(file => URL.createObjectURL(file));\n    setEditPreviewUrls(urls);\n  };\n  const handleUpdateSubmit = async e => {\n    e.preventDefault();\n    if (!editContent.trim() && editImages.length === 0) return;\n    try {\n      setUpdating(true);\n      const formData = new FormData();\n      formData.append(\"userId\", user.id);\n      formData.append(\"content\", editContent);\n      editImages.forEach(image => formData.append(\"images\", image));\n      const response = await axiosInstance.put(`/api/posts/${post.id}`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      onPostUpdated === null || onPostUpdated === void 0 ? void 0 : onPostUpdated(response.data);\n      setIsEditing(false);\n      editPreviewUrls.forEach(url => URL.revokeObjectURL(url));\n    } catch (error) {\n      var _error$response;\n      console.error(\"Error updating post:\", error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || \"Failed to update post. Please try again.\");\n    } finally {\n      setUpdating(false);\n    }\n  };\n  const handleCommentClick = () => {\n    setShowComments(!showComments);\n    if (!showComments) {\n      setShowCommentInput(true);\n    }\n  };\n  const handleCommentCountChange = newCount => {\n    setCommentCount(newCount);\n  };\n  const handleReportSuccess = () => {\n    console.log(\"Report submitted successfully\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 mb-6 overflow-hidden border border-green-500\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-5 border-b border-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 p-0.5 shadow-md\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-full rounded-full overflow-hidden bg-white flex items-center justify-center\",\n            children: post.userProfilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: post.userProfilePicture,\n              alt: post.userName,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-indigo-600\",\n              children: (_post$userName = post.userName) === null || _post$userName === void 0 ? void 0 : _post$userName.charAt(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium text-gray-900\",\n            children: post.userName || \"Unknown User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-3 h-3 mr-1 text-gray-400\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), formatDate(post.createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowMenu(!showMenu),\n          className: \"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200\",\n          disabled: deleting || updating,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: `w-5 h-5 ${deleting || updating ? 'text-gray-300' : 'text-gray-500'}`,\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), showMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg z-50 overflow-hidden border border-green-500 transform transition-all duration-300 scale-100 origin-top-right\",\n          children: [user.id === post.userId && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleEdit,\n            className: \"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-colors duration-200 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-3 text-blue-500\",\n              fill: \"none\",\n              viewBox: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 21\n            }, this), \"Edit Post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 19\n          }, this), user.id === post.userId || isUserAdmin ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDelete,\n            disabled: deleting,\n            className: `w-full text-left px-4 py-3 text-sm flex items-center ${deleting ? \"text-gray-400 bg-gray-50\" : \"text-gray-700 hover:bg-red-50 hover:text-red-700 transition-colors duration-200\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: `w-4 h-4 mr-3 ${deleting ? \"text-gray-400\" : \"text-red-500\"}`,\n              fill: \"none\",\n              viewBox: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 21\n            }, this), deleting ? \"Deleting...\" : isUserAdmin && user.id !== post.userId ? \"Delete as Admin\" : \"Delete Post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowReportModal(true),\n            className: \"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700 transition-colors duration-200 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-3 text-red-500\",\n              fill: \"none\",\n              viewBox: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 21\n            }, this), \"Report Post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-5 py-4\",\n      children: isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUpdateSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"w-full p-4 border border-green-500 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-green-500\",\n            rows: \"3\",\n            value: editContent,\n            onChange: e => setEditContent(e.target.value),\n            disabled: updating,\n            placeholder: \"What's on your mind?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), editPreviewUrls.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\",\n          children: editPreviewUrls.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative group rounded-lg overflow-hidden shadow-sm border border-green-500\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: url,\n              alt: `Preview ${index}`,\n              className: \"h-24 w-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 21\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            multiple: true,\n            accept: \"image/*\",\n            onChange: handleImageChange,\n            className: \"hidden\",\n            id: \"edit-image-input\",\n            disabled: updating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"edit-image-input\",\n            className: \"flex items-center px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md cursor-pointer transition-colors duration-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5 mr-2 text-gray-600\",\n              fill: \"none\",\n              viewBox: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), \"Add Images\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setIsEditing(false),\n              className: \"px-4 py-2 border border-green-500 text-green-600 rounded-md hover:bg-green-50 transition-colors duration-200 font-medium\",\n              disabled: updating,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: updating || !editContent.trim() && editImages.length === 0,\n              className: `px-6 py-2 rounded-md text-white font-medium shadow-sm transition-all duration-200 ${updating || !editContent.trim() && editImages.length === 0 ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-500 hover:bg-green-600 hover:shadow\"}`,\n              children: updating ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"currentColor\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this), \"Updating...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this) : \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-800 mb-4 leading-relaxed whitespace-pre-line\",\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4 mt-3\",\n          children: [post.videoUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg overflow-hidden shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"video\", {\n              src: mediaUrls.video || getFullUrl(post.videoUrl),\n              className: \"max-h-[500px] w-full object-contain bg-black\",\n              controls: true,\n              playsInline: true,\n              preload: \"metadata\",\n              onError: e => {\n                console.error(\"Video loading error:\", e);\n                e.target.src = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlZpZGVvIEZhaWxlZCB0byBMb2FkPC90ZXh0Pjwvc3ZnPg==\";\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 17\n          }, this), ((_post$imageUrls2 = post.imageUrls) === null || _post$imageUrls2 === void 0 ? void 0 : _post$imageUrls2.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `grid ${post.imageUrls.length === 1 ? 'grid-cols-1' : 'grid-cols-2'} gap-2`,\n            children: post.imageUrls.map((url, index) => {\n              const mediaId = url.split(\"/\").pop();\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `\n                          rounded-lg overflow-hidden shadow-sm border border-green-500 \n                          ${post.imageUrls.length === 1 ? 'col-span-1' : ''} \n                          ${post.imageUrls.length === 3 && index === 0 ? 'col-span-2' : ''}\n                        `,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: mediaUrls[mediaId] || getFullUrl(url),\n                  alt: `Post image ${index + 1}`,\n                  className: \"w-full h-full object-cover max-h-[500px]\",\n                  onError: e => {\n                    console.error(\"Image failed to load:\", url);\n                    e.target.src = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIEZhaWxlZCB0byBMb2FkPC90ZXh0Pjwvc3ZnPg==\";\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 25\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-5 py-3 bg-gray-50 border-t border-green-500\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: /*#__PURE__*/_jsxDEV(ReactionButton, {\n            postId: post.id,\n            userId: user.id,\n            onReactionChange: handleReactionChange,\n            renderButton: ({\n              liked,\n              count,\n              onClick,\n              loading\n            }) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClick,\n              disabled: loading,\n              className: `group flex items-center space-x-2 px-4 py-2 rounded-full transition-all duration-300 ${liked ? 'bg-green-50 text-green-500 hover:bg-green-100' : 'text-gray-600 hover:bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: `w-6 h-6 transition-transform duration-300 ${liked ? 'text-green-500 scale-110' : 'text-gray-400 group-hover:text-gray-500'}`,\n                  fill: liked ? \"currentColor\" : \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: liked ? \"0\" : \"2\",\n                    d: \"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 21\n                }, this), liked && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"heart-animation absolute inset-0 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-6 h-6 text-green-500 absolute animate-ping opacity-75\",\n                    fill: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 501,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-medium ${liked ? 'text-green-500' : 'text-gray-700'} transition-colors duration-300`,\n                children: loading ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"animate-spin h-4 w-4\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this) : count > 0 ? `${count} ${count === 1 ? 'Like' : 'Likes'}` : 'Like'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)\n          }, `reaction-${lastRefreshed}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCommentClick,\n            className: `flex items-center space-x-2 px-3 py-1.5 rounded-full transition-colors duration-200 ${showComments ? \"bg-green-100 text-green-600\" : \"text-gray-600 hover:bg-gray-100\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: `w-5 h-5 ${commentCount > 0 ? 'text-green-500' : ''}`,\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: commentCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this), user.id !== post.userId && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowReportModal(true),\n            className: \"flex items-center space-x-1 px-3 py-1.5 rounded-full text-gray-600 hover:bg-red-50 hover:text-red-600 transition-colors duration-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex items-center space-x-1 px-3 py-1.5 rounded-full text-gray-600 hover:bg-gray-100 transition-colors duration-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), showComments && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 border-t border-gray-100 px-5 py-4\",\n      children: /*#__PURE__*/_jsxDEV(Comments, {\n        postId: post.id,\n        postOwnerId: post.userId,\n        showInput: showCommentInput,\n        onCommentCountChange: handleCommentCountChange\n      }, `comments-${lastRefreshed}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ReportModal, {\n      isOpen: showReportModal,\n      onClose: () => setShowReportModal(false),\n      postId: post.id,\n      onSuccess: handleReportSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"OVPEh/EYNoNgYdMvaBVCBaufZGg=\");\n_c = Post;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","Comments","ReactionButton","ReportModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Post","post","onPostDeleted","onPostUpdated","_s","_post$comments","_post$userName","_post$imageUrls2","showMenu","setShowMenu","isEditing","setIsEditing","editContent","setEditContent","content","editImages","setEditImages","editPreviewUrls","setEditPreviewUrls","deleting","setDeleting","updating","setUpdating","mediaUrls","setMediaUrls","mediaErrors","setMediaErrors","showComments","setShowComments","showCommentInput","setShowCommentInput","commentCount","setCommentCount","comments","length","isUserAdmin","setIsUserAdmin","lastRefreshed","setLastRefreshed","Date","now","showReportModal","setShowReportModal","user","JSON","parse","localStorage","getItem","role","formatDate","dateString","toLocaleString","getFullUrl","url","startsWith","window","location","protocol","hostname","getMediaUrl","mediaId","originalUrl","mediaType","mediaTypes","response","get","responseType","data","Blob","size","URL","createObjectURL","console","warn","error","prev","loadMedia","_post$imageUrls","newMediaUrls","videoUrl","split","pop","video","imageUrls","mediaUrl","Object","values","forEach","revokeObjectURL","refreshPostData","id","_response$data$commen","refreshInterval","setInterval","clearInterval","handleReactionChange","reactionData","setTimeout","handleDelete","confirm","userId","delete","alert","handleEdit","handleImageChange","e","files","Array","from","target","urls","map","file","handleUpdateSubmit","preventDefault","trim","formData","FormData","append","image","put","headers","_error$response","handleCommentClick","handleCommentCountChange","newCount","handleReportSuccess","log","className","children","userProfilePicture","src","alt","userName","fileName","_jsxFileName","lineNumber","columnNumber","charAt","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","createdAt","onClick","disabled","onSubmit","rows","value","onChange","placeholder","index","type","multiple","accept","htmlFor","xmlns","cx","cy","r","controls","playsInline","preload","onError","postId","onReactionChange","renderButton","liked","count","loading","postOwnerId","showInput","onCommentCountChange","isOpen","onClose","onSuccess","_c","$RefreshReg$"],"sources":["D:/Y3S2/Learning-Platform/frontend/src/components/Post.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axiosInstance from \"../utils/axios\";\r\nimport Comments from \"./Comments\";\r\nimport ReactionButton from \"./ReactionButton\";\r\nimport ReportModal from \"./ReportModal\";\r\n\r\nfunction Post({ post, onPostDeleted, onPostUpdated }) {\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editContent, setEditContent] = useState(post.content);\r\n  const [editImages, setEditImages] = useState([]);\r\n  const [editPreviewUrls, setEditPreviewUrls] = useState([]);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [updating, setUpdating] = useState(false);\r\n  const [mediaUrls, setMediaUrls] = useState({});\r\n  const [mediaErrors, setMediaErrors] = useState({});\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [showCommentInput, setShowCommentInput] = useState(false);\r\n  const [commentCount, setCommentCount] = useState(post.comments?.length || 0);\r\n  const [isUserAdmin, setIsUserAdmin] = useState(false);\r\n  const [lastRefreshed, setLastRefreshed] = useState(Date.now());\r\n  const [showReportModal, setShowReportModal] = useState(false);\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  useEffect(() => {\r\n    if (user && user.role === \"ROLE_ADMIN\") {\r\n      setIsUserAdmin(true);\r\n    }\r\n  }, [user]);\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  const getFullUrl = (url) => {\r\n    if (!url) return \"\";\r\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) return url;\r\n    return `${window.location.protocol}//${window.location.hostname}:8081${url}`;\r\n  };\r\n\r\n  const getMediaUrl = async (mediaId, originalUrl) => {\r\n    try {\r\n      const mediaType = post.mediaTypes && post.mediaTypes[mediaId];\r\n\r\n      const response = await axiosInstance.get(`/api/media/${mediaId}`, {\r\n        responseType: \"blob\",\r\n      });\r\n\r\n      if (response.data && response.data.url) {\r\n        return response.data.url;\r\n      } else if (response.data instanceof Blob && response.data.size > 0) {\r\n        return URL.createObjectURL(response.data);\r\n      }\r\n\r\n      console.warn(\r\n        `Invalid or empty media data for ${mediaId}, using fallback URL`\r\n      );\r\n      return getFullUrl(originalUrl);\r\n    } catch (error) {\r\n      console.error(`Error loading media ${mediaId}:`, error);\r\n      setMediaErrors((prev) => ({ ...prev, [mediaId]: true }));\r\n      return getFullUrl(originalUrl);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadMedia = async () => {\r\n      const newMediaUrls = {};\r\n\r\n      if (post.videoUrl) {\r\n        const mediaId = post.videoUrl.split(\"/\").pop();\r\n        try {\r\n          newMediaUrls.video = await getMediaUrl(mediaId, post.videoUrl);\r\n        } catch (error) {\r\n          console.error(\"Failed to load video:\", error);\r\n        }\r\n      }\r\n\r\n      if (post.imageUrls?.length) {\r\n        for (const url of post.imageUrls) {\r\n          const mediaId = url.split(\"/\").pop();\r\n          try {\r\n            const mediaUrl = await getMediaUrl(mediaId, url);\r\n            newMediaUrls[mediaId] = mediaUrl;\r\n          } catch (error) {\r\n            console.error(\"Failed to load image:\", error);\r\n          }\r\n        }\r\n      }\r\n\r\n      setMediaUrls(newMediaUrls);\r\n    };\r\n\r\n    loadMedia();\r\n\r\n    return () => {\r\n      Object.values(mediaUrls).forEach((url) => {\r\n        if (url && typeof url === \"string\" && url.startsWith(\"blob:\")) {\r\n          URL.revokeObjectURL(url);\r\n        }\r\n      });\r\n    };\r\n  }, [post.videoUrl, post.imageUrls]);\r\n\r\n  const refreshPostData = async () => {\r\n    try {\r\n      const response = await axiosInstance.get(`/api/posts/${post.id}`);\r\n      if (response.data) {\r\n        setCommentCount(response.data.comments?.length || 0);\r\n        onPostUpdated?.(response.data);\r\n        setLastRefreshed(Date.now());\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error refreshing post data:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let refreshInterval;\r\n\r\n    if (!showComments) {\r\n      refreshInterval = setInterval(() => {\r\n        refreshPostData();\r\n      }, 30000);\r\n    }\r\n\r\n    return () => {\r\n      if (refreshInterval) clearInterval(refreshInterval);\r\n    };\r\n  }, [showComments, post.id]);\r\n\r\n  const handleReactionChange = (reactionData) => {\r\n    setTimeout(() => {\r\n      refreshPostData();\r\n    }, 500);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!window.confirm(\"Are you sure you want to delete this post?\")) return;\r\n\r\n    try {\r\n      setDeleting(true);\r\n      if (isUserAdmin && user.id !== post.userId) {\r\n        await axiosInstance.delete(`/api/posts/${post.id}?userId=${user.id}&isAdmin=true`);\r\n      } else {\r\n        await axiosInstance.delete(`/api/posts/${post.id}?userId=${user.id}`);\r\n      }\r\n      onPostDeleted?.(post.id);\r\n      setShowMenu(false);\r\n    } catch (error) {\r\n      console.error(\"Error deleting post:\", error);\r\n      alert(\"Failed to delete post. Please try again.\");\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n    setShowMenu(false);\r\n    setEditContent(post.content);\r\n    setEditImages([]);\r\n    setEditPreviewUrls([]);\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    setEditImages(files);\r\n    const urls = files.map((file) => URL.createObjectURL(file));\r\n    setEditPreviewUrls(urls);\r\n  };\r\n\r\n  const handleUpdateSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!editContent.trim() && editImages.length === 0) return;\r\n\r\n    try {\r\n      setUpdating(true);\r\n      const formData = new FormData();\r\n      formData.append(\"userId\", user.id);\r\n      formData.append(\"content\", editContent);\r\n      editImages.forEach((image) => formData.append(\"images\", image));\r\n\r\n      const response = await axiosInstance.put(\r\n        `/api/posts/${post.id}`,\r\n        formData,\r\n        {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        }\r\n      );\r\n\r\n      onPostUpdated?.(response.data);\r\n      setIsEditing(false);\r\n\r\n      editPreviewUrls.forEach((url) => URL.revokeObjectURL(url));\r\n    } catch (error) {\r\n      console.error(\"Error updating post:\", error);\r\n      alert(error.response?.data || \"Failed to update post. Please try again.\");\r\n    } finally {\r\n      setUpdating(false);\r\n    }\r\n  };\r\n\r\n  const handleCommentClick = () => {\r\n    setShowComments(!showComments);\r\n    if (!showComments) {\r\n      setShowCommentInput(true);\r\n    }\r\n  };\r\n\r\n  const handleCommentCountChange = (newCount) => {\r\n    setCommentCount(newCount);\r\n  };\r\n\r\n  const handleReportSuccess = () => {\r\n    console.log(\"Report submitted successfully\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 mb-6 overflow-hidden border border-green-500\">\r\n      {/* Post Header with User Info and Options */}\r\n      <div className=\"flex items-center justify-between p-5 border-b border-gray-50\">\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 p-0.5 shadow-md\">\r\n            <div className=\"w-full h-full rounded-full overflow-hidden bg-white flex items-center justify-center\">\r\n              {post.userProfilePicture ? (\r\n                <img\r\n                  src={post.userProfilePicture}\r\n                  alt={post.userName}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : (\r\n                <span className=\"text-lg font-semibold text-indigo-600\">\r\n                  {post.userName?.charAt(0)}\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-medium text-gray-900\">{post.userName || \"Unknown User\"}</h3>\r\n            <p className=\"text-xs text-gray-500 flex items-center\">\r\n              <svg className=\"w-3 h-3 mr-1 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              {formatDate(post.createdAt)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Post Options Menu */}\r\n        {user && (\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowMenu(!showMenu)}\r\n              className=\"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200\"\r\n              disabled={deleting || updating}\r\n            >\r\n              <svg\r\n                className={`w-5 h-5 ${deleting || updating ? 'text-gray-300' : 'text-gray-500'}`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth=\"2\"\r\n                  d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n            {showMenu && (\r\n              <div className=\"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg z-50 overflow-hidden border border-green-500 transform transition-all duration-300 scale-100 origin-top-right\">\r\n                {user.id === post.userId && (\r\n                  <button\r\n                    onClick={handleEdit}\r\n                    className=\"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-colors duration-200 flex items-center\"\r\n                  >\r\n                    <svg className=\"w-4 h-4 mr-3 text-blue-500\" fill=\"none\" viewBox=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                    </svg>\r\n                    Edit Post\r\n                  </button>\r\n                )}\r\n                {user.id === post.userId || isUserAdmin ? (\r\n                  <button\r\n                    onClick={handleDelete}\r\n                    disabled={deleting}\r\n                    className={`w-full text-left px-4 py-3 text-sm flex items-center ${\r\n                      deleting ? \"text-gray-400 bg-gray-50\" : \"text-gray-700 hover:bg-red-50 hover:text-red-700 transition-colors duration-200\"\r\n                    }`}\r\n                  >\r\n                    <svg className={`w-4 h-4 mr-3 ${deleting ? \"text-gray-400\" : \"text-red-500\"}`} fill=\"none\" viewBox=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                    </svg>\r\n                    {deleting\r\n                      ? \"Deleting...\"\r\n                      : isUserAdmin && user.id !== post.userId\r\n                      ? \"Delete as Admin\"\r\n                      : \"Delete Post\"}\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => setShowReportModal(true)}\r\n                    className=\"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700 transition-colors duration-200 flex items-center\"\r\n                  >\r\n                    <svg className=\"w-4 h-4 mr-3 text-red-500\" fill=\"none\" viewBox=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                    </svg>\r\n                    Report Post\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Post Content */}\r\n      <div className=\"px-5 py-4\">\r\n        {isEditing ? (\r\n          <form onSubmit={handleUpdateSubmit} className=\"space-y-4\">\r\n            <div className=\"relative\">\r\n              <textarea\r\n                className=\"w-full p-4 border border-green-500 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                rows=\"3\"\r\n                value={editContent}\r\n                onChange={(e) => setEditContent(e.target.value)}\r\n                disabled={updating}\r\n                placeholder=\"What's on your mind?\"\r\n              />\r\n            </div>\r\n            \r\n            {editPreviewUrls.length > 0 && (\r\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\">\r\n                {editPreviewUrls.map((url, index) => (\r\n                  <div key={index} className=\"relative group rounded-lg overflow-hidden shadow-sm border border-green-500\">\r\n                    <img\r\n                      src={url}\r\n                      alt={`Preview ${index}`}\r\n                      className=\"h-24 w-full object-cover\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"flex justify-between items-center pt-2\">\r\n              <input\r\n                type=\"file\"\r\n                multiple\r\n                accept=\"image/*\"\r\n                onChange={handleImageChange}\r\n                className=\"hidden\"\r\n                id=\"edit-image-input\"\r\n                disabled={updating}\r\n              />\r\n              <label\r\n                htmlFor=\"edit-image-input\"\r\n                className=\"flex items-center px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md cursor-pointer transition-colors duration-200\"\r\n              >\r\n                <svg className=\"w-5 h-5 mr-2 text-gray-600\" fill=\"none\" viewBox=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n                Add Images\r\n              </label>\r\n              \r\n              <div className=\"space-x-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setIsEditing(false)}\r\n                  className=\"px-4 py-2 border border-green-500 text-green-600 rounded-md hover:bg-green-50 transition-colors duration-200 font-medium\"\r\n                  disabled={updating}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={updating || (!editContent.trim() && editImages.length === 0)}\r\n                  className={`px-6 py-2 rounded-md text-white font-medium shadow-sm transition-all duration-200 ${\r\n                    updating || (!editContent.trim() && editImages.length === 0)\r\n                    ? \"bg-gray-400 cursor-not-allowed\"\r\n                    : \"bg-green-500 hover:bg-green-600 hover:shadow\"\r\n                  }`}\r\n                >\r\n                  {updating ? \r\n                    <span className=\"flex items-center\">\r\n                      <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"currentColor\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                      </svg>\r\n                      Updating...\r\n                    </span> : \r\n                    \"Save Changes\"\r\n                  }\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <>\r\n            {/* Post Text Content */}\r\n            <p className=\"text-gray-800 mb-4 leading-relaxed whitespace-pre-line\">{post.content}</p>\r\n            {/* Post Media Content */}\r\n            <div className=\"space-y-4 mt-3\">\r\n              {post.videoUrl && (\r\n                <div className=\"rounded-lg overflow-hidden shadow-sm\">\r\n                  <video\r\n                    src={mediaUrls.video || getFullUrl(post.videoUrl)}\r\n                    className=\"max-h-[500px] w-full object-contain bg-black\"\r\n                    controls\r\n                    playsInline\r\n                    preload=\"metadata\"\r\n                    onError={(e) => {\r\n                      console.error(\"Video loading error:\", e);\r\n                      e.target.src =\r\n                        \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlZpZGVvIEZhaWxlZCB0byBMb2FkPC90ZXh0Pjwvc3ZnPg==\";\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {post.imageUrls?.length > 0 && (\r\n                <div className={`grid ${post.imageUrls.length === 1 ? 'grid-cols-1' : 'grid-cols-2'} gap-2`}>\r\n                  {post.imageUrls.map((url, index) => {\r\n                    const mediaId = url.split(\"/\").pop();\r\n                    return (\r\n                      <div \r\n                        key={index} \r\n                        className={`\r\n                          rounded-lg overflow-hidden shadow-sm border border-green-500 \r\n                          ${post.imageUrls.length === 1 ? 'col-span-1' : ''} \r\n                          ${post.imageUrls.length === 3 && index === 0 ? 'col-span-2' : ''}\r\n                        `}\r\n                      >\r\n                        <img\r\n                          src={mediaUrls[mediaId] || getFullUrl(url)}\r\n                          alt={`Post image ${index + 1}`}\r\n                          className=\"w-full h-full object-cover max-h-[500px]\"\r\n                          onError={(e) => {\r\n                            console.error(\"Image failed to load:\", url);\r\n                            e.target.src =\r\n                              \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIEZhaWxlZCB0byBMb2FkPC90ZXh0Pjwvc3ZnPg==\";\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Post Engagement Section */}\r\n      <div className=\"px-5 py-3 bg-gray-50 border-t border-green-500\">\r\n        <div className=\"flex items-center justify-between\">\r\n          {/* Enhanced Like Button with Animation */}\r\n          <div className=\"relative\">\r\n            <ReactionButton\r\n              postId={post.id}\r\n              userId={user.id}\r\n              onReactionChange={handleReactionChange}\r\n              key={`reaction-${lastRefreshed}`}\r\n              renderButton={({ liked, count, onClick, loading }) => (\r\n                <button \r\n                  onClick={onClick}\r\n                  disabled={loading}\r\n                  className={`group flex items-center space-x-2 px-4 py-2 rounded-full transition-all duration-300 ${\r\n                    liked \r\n                      ? 'bg-green-50 text-green-500 hover:bg-green-100' \r\n                      : 'text-gray-600 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className=\"relative\">\r\n                    <svg \r\n                      className={`w-6 h-6 transition-transform duration-300 ${\r\n                        liked ? 'text-green-500 scale-110' : 'text-gray-400 group-hover:text-gray-500'\r\n                      }`}\r\n                      fill={liked ? \"currentColor\" : \"none\"} \r\n                      stroke=\"currentColor\" \r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path \r\n                        strokeLinecap=\"round\" \r\n                        strokeLinejoin=\"round\" \r\n                        strokeWidth={liked ? \"0\" : \"2\"} \r\n                        d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                      />\r\n                    </svg>\r\n                    \r\n                    {/* Heart Animation on Click */}\r\n                    {liked && (\r\n                      <span className=\"heart-animation absolute inset-0 flex items-center justify-center\">\r\n                        <svg \r\n                          className=\"w-6 h-6 text-green-500 absolute animate-ping opacity-75\" \r\n                          fill=\"currentColor\" \r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path \r\n                            d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                          />\r\n                        </svg>\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <span className={`font-medium ${liked ? 'text-green-500' : 'text-gray-700'} transition-colors duration-300`}>\r\n                    {loading ? (\r\n                      <svg className=\"animate-spin h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                      </svg>\r\n                    ) : (\r\n                      count > 0 ? `${count} ${count === 1 ? 'Like' : 'Likes'}` : 'Like'\r\n                    )}\r\n                  </span>\r\n                </button>\r\n              )}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-4\">\r\n            <button\r\n              onClick={handleCommentClick}\r\n              className={`flex items-center space-x-2 px-3 py-1.5 rounded-full transition-colors duration-200 ${\r\n                showComments\r\n                  ? \"bg-green-100 text-green-600\"\r\n                  : \"text-gray-600 hover:bg-gray-100\"\r\n              }`}\r\n            >\r\n              <svg\r\n                className={`w-5 h-5 ${commentCount > 0 ? 'text-green-500' : ''}`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth=\"2\"\r\n                  d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n                />\r\n              </svg>\r\n              <span className=\"font-medium\">{commentCount}</span>\r\n            </button>\r\n            \r\n            {user.id !== post.userId && (\r\n              <button \r\n                onClick={() => setShowReportModal(true)}\r\n                className=\"flex items-center space-x-1 px-3 py-1.5 rounded-full text-gray-600 hover:bg-red-50 hover:text-red-600 transition-colors duration-200\"\r\n              >\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth=\"2\"\r\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\r\n                  />\r\n                </svg>\r\n                <span>Report</span>\r\n              </button>\r\n            )}\r\n            \r\n            <button className=\"flex items-center space-x-1 px-3 py-1.5 rounded-full text-gray-600 hover:bg-gray-100 transition-colors duration-200\">\r\n              <svg\r\n                className=\"w-5 h-5\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth=\"2\"\r\n                  d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\"\r\n                />\r\n              </svg>\r\n              <span>Share</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Comments Section */}\r\n      {showComments && (\r\n        <div className=\"bg-gray-50 border-t border-gray-100 px-5 py-4\">\r\n          <Comments\r\n            postId={post.id}\r\n            postOwnerId={post.userId}\r\n            showInput={showCommentInput}\r\n            onCommentCountChange={handleCommentCountChange}\r\n            key={`comments-${lastRefreshed}`}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Report Modal */}\r\n      <ReportModal\r\n        isOpen={showReportModal}\r\n        onClose={() => setShowReportModal(false)}\r\n        postId={post.id}\r\n        onSuccess={handleReportSuccess}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}