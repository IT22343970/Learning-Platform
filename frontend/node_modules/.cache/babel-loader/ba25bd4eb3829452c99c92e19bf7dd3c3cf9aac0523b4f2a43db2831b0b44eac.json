{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axiosInstance from'../../utils/axios';import AdminSidebar from'../../components/AdminSidebar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ReportedPosts(){const[reports,setReports]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('PENDING');const[selectedReport,setSelectedReport]=useState(null);const[processing,setProcessing]=useState(false);const[adminNote,setAdminNote]=useState('');const[user,setUser]=useState(null);const[postContent,setPostContent]=useState({});const[expanded,setExpanded]=useState({});const[reportStats,setReportStats]=useState({total:0,pending:0,resolved:0,rejected:0});const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{const checkAdminAccess=async()=>{try{const userData=localStorage.getItem(\"user\");if(!userData){navigate(\"/login\");return;}const user=JSON.parse(userData);if(user.role!==\"ROLE_ADMIN\"){navigate(\"/\");return;}setUser(user);await fetchReportStats();await fetchReports(activeTab);}catch(error){console.error(\"Error checking admin access:\",error);setError(\"Error checking admin access. Please try again.\");navigate(\"/\");}};checkAdminAccess();},[navigate]);const fetchReportStats=async()=>{try{const response=await axiosInstance.get('/api/reports/stats');if(response!==null&&response!==void 0&&response.data&&typeof response.data==='object'){setReportStats(response.data);}else{console.warn(\"Invalid stats data format:\",response===null||response===void 0?void 0:response.data);setReportStats({total:0,pending:0,resolved:0,rejected:0});}}catch(error){console.error('Error fetching report stats:',error);}};const fetchReports=async status=>{try{setLoading(true);const response=await axiosInstance.get(`/api/reports/status/${status}`);if(response!==null&&response!==void 0&&response.data&&Array.isArray(response.data)){setReports(response.data);const reportedPostIds=response.data.map(report=>report.postId).filter(id=>id);if(reportedPostIds.length>0){await fetchPostContent(reportedPostIds);}}else{console.warn(\"Invalid reports data format:\",response===null||response===void 0?void 0:response.data);setReports([]);}}catch(error){console.error('Error fetching reports:',error);setError(\"Error fetching reports. Please try again.\");setReports([]);}finally{setLoading(false);}};const fetchPostContent=async postIds=>{if(!(postIds!==null&&postIds!==void 0&&postIds.length))return;try{const uniqueIds=[...new Set(postIds)];const content={};for(const id of uniqueIds){try{const response=await axiosInstance.get(`/api/posts/${id}`);if(response!==null&&response!==void 0&&response.data){content[id]=response.data;}else{content[id]={error:'Post data unavailable'};}}catch(error){console.error(`Error fetching post ${id}:`,error);content[id]={error:'Post not found or deleted'};}}setPostContent(content);}catch(error){console.error('Error fetching post content:',error);}};useEffect(()=>{if(user){fetchReports(activeTab);}},[activeTab,user]);const handleTabChange=tab=>{setActiveTab(tab);};const handleReportAction=async(action,reportId)=>{if(!reportId||!user)return;try{setProcessing(true);if(action==='delete'){await axiosInstance.delete(`/api/reports/${reportId}/post`,{data:{adminId:user.id,adminNote:adminNote||'Post was removed by admin.'}});}else if(action==='dismiss'){await axiosInstance.put(`/api/reports/${reportId}/status`,{status:'REJECTED',adminId:user.id,adminNote:adminNote||'Report was dismissed by admin.'});}await fetchReportStats();await fetchReports(activeTab);setSelectedReport(null);setAdminNote('');}catch(error){console.error('Error performing action:',error);setError(\"Error performing action. Please try again.\");}finally{setProcessing(false);}};const togglePostContent=reportId=>{setExpanded(prev=>({...prev,[reportId]:!prev[reportId]}));};const formatDate=dateString=>{if(!dateString)return\"Unknown date\";try{return new Date(dateString).toLocaleString();}catch(error){return\"Invalid date\";}};const getReasonClass=reason=>{if(!reason)return'bg-gray-100 text-gray-800';const reasonStr=String(reason).toLowerCase();if(reasonStr.includes('inappropriate')){return'bg-purple-100 text-purple-800';}else if(reasonStr.includes('harass')||reasonStr.includes('bull')){return'bg-red-100 text-red-800';}else if(reasonStr.includes('spam')||reasonStr.includes('mislead')){return'bg-yellow-100 text-yellow-800';}else if(reasonStr.includes('hate')){return'bg-orange-100 text-orange-800';}else if(reasonStr.includes('false')||reasonStr.includes('fake')){return'bg-blue-100 text-blue-800';}else if(reasonStr.includes('property')||reasonStr.includes('copyright')){return'bg-indigo-100 text-indigo-800';}else{return'bg-gray-100 text-gray-800';}};if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(AdminSidebar,{user:user}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded shadow-md max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-500 text-center mb-4\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium mt-2\",children:\"Error\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center\",children:typeof error==='string'?error:'An error occurred'}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setError(null);fetchReports(activeTab);},className:\"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Retry\"})})]})})]});}if(loading&&reports.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(AdminSidebar,{user:user}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-600\"})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(AdminSidebar,{user:user}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 p-8 overflow-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Reported Posts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 md:mt-0 flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:reportStats.total||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 bg-white rounded-lg shadow-sm border border-yellow-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-yellow-600\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-yellow-600\",children:reportStats.pending||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 bg-white rounded-lg shadow-sm border border-green-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-600\",children:\"Resolved\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-green-600\",children:reportStats.resolved||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Rejected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-500\",children:reportStats.rejected||0})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleTabChange('PENDING'),className:`pb-4 font-medium text-sm ${activeTab==='PENDING'?'text-indigo-600 border-b-2 border-indigo-600':'text-gray-500 hover:text-gray-700'}`,children:[\"Pending\",reportStats.pending>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 py-0.5 px-2.5 rounded-full text-xs bg-yellow-100 text-yellow-800\",children:reportStats.pending})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTabChange('RESOLVED'),className:`pb-4 font-medium text-sm ${activeTab==='RESOLVED'?'text-indigo-600 border-b-2 border-indigo-600':'text-gray-500 hover:text-gray-700'}`,children:\"Resolved\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTabChange('REJECTED'),className:`pb-4 font-medium text-sm ${activeTab==='REJECTED'?'text-indigo-600 border-b-2 border-indigo-600':'text-gray-500 hover:text-gray-700'}`,children:\"Rejected\"})]})}),reports.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-8 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\"})}),/*#__PURE__*/_jsxs(\"h3\",{className:\"mt-4 text-lg font-medium text-gray-900\",children:[\"No \",activeTab.toLowerCase(),\" reports\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-500\",children:activeTab==='PENDING'?'There are no pending reports to review at this time.':activeTab==='RESOLVED'?'No reports have been resolved yet.':'No reports have been rejected yet.'})]}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:reports.map(report=>{var _post$userName;if(!report||typeof report!=='object')return null;const post=report.postId&&postContent[report.postId];const isExpanded=expanded[report.id];return/*#__PURE__*/_jsx(\"li\",{className:\"hover:bg-gray-50 transition-colors duration-150\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"})})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-900\",children:[\"Reported by \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:report.reporterName||\"Unknown User\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:formatDate(report.createdAt)})]})]}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getReasonClass(report.reason)}`,children:report.reason||\"Not specified\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pl-13\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md bg-gray-50 p-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 whitespace-pre-line\",children:report.note||\"No additional details provided.\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pl-13\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>togglePostContent(report.id),className:\"flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors duration-150\",children:[/*#__PURE__*/_jsx(\"svg\",{className:`h-4 w-4 mr-1.5 transform transition-transform duration-200 ${isExpanded?'rotate-90':''}`,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 5l7 7-7 7\"})}),isExpanded?'Hide post content':'View post content']}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 border border-gray-200 rounded-md p-4 bg-white\",children:!post?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-24\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500\"})}):post.error?/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:\"This post may have been deleted or is no longer available.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 font-medium\",children:((_post$userName=post.userName)===null||_post$userName===void 0?void 0:_post$userName.charAt(0))||'U'})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:post.userName||\"Unknown User\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:formatDate(post.createdAt)})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-800 whitespace-pre-line\",children:post.content||\"No content available\"}),post.imageUrls&&post.imageUrls.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 grid grid-cols-2 gap-2\",children:[post.imageUrls.slice(0,4).map((url,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md overflow-hidden h-32 bg-gray-100\",children:/*#__PURE__*/_jsx(\"img\",{src:url,alt:`Post image ${index+1}`,className:\"h-full w-full object-cover\",onError:e=>{e.target.onerror=null;e.target.src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIEZhaWxlZCB0byBMb2FkPC90ZXh0Pjwvc3ZnPg==\";}})},index)),post.imageUrls.length>4&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md overflow-hidden h-32 bg-gray-800 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-white font-medium\",children:[\"+\",post.imageUrls.length-4,\" more\"]})})]})]})})]}),activeTab==='PENDING'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedReport({...report,action:'dismiss'}),className:\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Dismiss Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedReport({...report,action:'delete'}),className:\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:\"Delete Post\"})]}),(activeTab==='RESOLVED'||activeTab==='REJECTED')&&report.adminNote&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pl-13 border-t border-gray-100 pt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-500 uppercase tracking-wide\",children:\"Admin Note\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1 text-gray-700\",children:report.adminNote})]})]})},report.id||`report-${Math.random().toString(36).substr(2,9)}`);})})})]})}),selectedReport&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen items-center justify-center px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",onClick:()=>!processing&&setSelectedReport(null)}),/*#__PURE__*/_jsx(\"div\",{className:\"relative bg-white rounded-lg max-w-md w-full mx-auto shadow-xl transform transition-all\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${selectedReport.action==='delete'?'bg-red-100':'bg-yellow-100'}`,children:selectedReport.action==='delete'?/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-red-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-yellow-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-4 text-lg font-medium text-gray-900\",children:selectedReport.action==='delete'?'Delete Reported Post':'Dismiss Report'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500\",children:selectedReport.action==='delete'?'Are you sure you want to delete this post? This action cannot be undone.':'Are you sure you want to dismiss this report? The post will remain visible to all users.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"admin-note\",className:\"block text-left text-sm font-medium text-gray-700\",children:\"Add an admin note (optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(\"textarea\",{id:\"admin-note\",name:\"admin-note\",rows:\"3\",className:\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md\",placeholder:selectedReport.action==='delete'?\"Reason for deleting this post...\":\"Reason for dismissing this report...\",value:adminNote,onChange:e=>setAdminNote(e.target.value)})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",onClick:()=>setSelectedReport(null),disabled:processing,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`inline-flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ${selectedReport.action==='delete'?'bg-red-600 hover:bg-red-700 focus:ring-red-500':'bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500'}`,onClick:()=>handleReportAction(selectedReport.action,selectedReport.id),disabled:processing,children:processing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Processing...\"]}):selectedReport.action==='delete'?'Delete Post':'Dismiss Report'})]})]})})]})})]});}export default ReportedPosts;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axiosInstance","AdminSidebar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReportedPosts","reports","setReports","loading","setLoading","activeTab","setActiveTab","selectedReport","setSelectedReport","processing","setProcessing","adminNote","setAdminNote","user","setUser","postContent","setPostContent","expanded","setExpanded","reportStats","setReportStats","total","pending","resolved","rejected","error","setError","navigate","checkAdminAccess","userData","localStorage","getItem","JSON","parse","role","fetchReportStats","fetchReports","console","response","get","data","warn","status","Array","isArray","reportedPostIds","map","report","postId","filter","id","length","fetchPostContent","postIds","uniqueIds","Set","content","handleTabChange","tab","handleReportAction","action","reportId","delete","adminId","put","togglePostContent","prev","formatDate","dateString","Date","toLocaleString","getReasonClass","reason","reasonStr","String","toLowerCase","includes","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","_post$userName","post","isExpanded","reporterName","createdAt","note","userName","charAt","imageUrls","slice","url","index","src","alt","onError","e","target","onerror","Math","random","toString","substr","htmlFor","name","rows","placeholder","value","onChange","type","disabled","xmlns","cx","cy","r"],"sources":["C:/Users/isuru/Documents/SLIIT/y3paf/skill-bridge/frontend/src/pages/admin/ReportedPosts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axiosInstance from '../../utils/axios';\r\nimport AdminSidebar from '../../components/AdminSidebar';\r\n\r\nfunction ReportedPosts() {\r\n  const [reports, setReports] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('PENDING');\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [adminNote, setAdminNote] = useState('');\r\n  const [user, setUser] = useState(null);\r\n  const [postContent, setPostContent] = useState({});\r\n  const [expanded, setExpanded] = useState({});\r\n  const [reportStats, setReportStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    resolved: 0,\r\n    rejected: 0\r\n  });\r\n  const [error, setError] = useState(null);\r\n  \r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const checkAdminAccess = async () => {\r\n      try {\r\n        const userData = localStorage.getItem(\"user\");\r\n        if (!userData) {\r\n          navigate(\"/login\");\r\n          return;\r\n        }\r\n\r\n        const user = JSON.parse(userData);\r\n        if (user.role !== \"ROLE_ADMIN\") {\r\n          navigate(\"/\");\r\n          return;\r\n        }\r\n        \r\n        setUser(user);\r\n        await fetchReportStats();\r\n        await fetchReports(activeTab);\r\n      } catch (error) {\r\n        console.error(\"Error checking admin access:\", error);\r\n        setError(\"Error checking admin access. Please try again.\");\r\n        navigate(\"/\");\r\n      }\r\n    };\r\n\r\n    checkAdminAccess();\r\n  }, [navigate]);\r\n\r\n  const fetchReportStats = async () => {\r\n    try {\r\n      const response = await axiosInstance.get('/api/reports/stats');\r\n      if (response?.data && typeof response.data === 'object') {\r\n        setReportStats(response.data);\r\n      } else {\r\n        console.warn(\"Invalid stats data format:\", response?.data);\r\n        setReportStats({\r\n          total: 0,\r\n          pending: 0,\r\n          resolved: 0,\r\n          rejected: 0\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching report stats:', error);\r\n    }\r\n  };\r\n\r\n  const fetchReports = async (status) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axiosInstance.get(`/api/reports/status/${status}`);\r\n      \r\n      if (response?.data && Array.isArray(response.data)) {\r\n        setReports(response.data);\r\n      \r\n        const reportedPostIds = response.data\r\n          .map(report => report.postId)\r\n          .filter(id => id);\r\n        \r\n        if (reportedPostIds.length > 0) {\r\n          await fetchPostContent(reportedPostIds);\r\n        }\r\n      } else {\r\n        console.warn(\"Invalid reports data format:\", response?.data);\r\n        setReports([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching reports:', error);\r\n      setError(\"Error fetching reports. Please try again.\");\r\n      setReports([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const fetchPostContent = async (postIds) => {\r\n    if (!postIds?.length) return;\r\n    \r\n    try {\r\n      const uniqueIds = [...new Set(postIds)];\r\n      const content = {};\r\n      \r\n      for (const id of uniqueIds) {\r\n        try {\r\n          const response = await axiosInstance.get(`/api/posts/${id}`);\r\n          if (response?.data) {\r\n            content[id] = response.data;\r\n          } else {\r\n            content[id] = { error: 'Post data unavailable' };\r\n          }\r\n        } catch (error) {\r\n          console.error(`Error fetching post ${id}:`, error);\r\n          content[id] = { error: 'Post not found or deleted' };\r\n        }\r\n      }\r\n      \r\n      setPostContent(content);\r\n    } catch (error) {\r\n      console.error('Error fetching post content:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchReports(activeTab);\r\n    }\r\n  }, [activeTab, user]);\r\n  \r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n  };\r\n  \r\n  const handleReportAction = async (action, reportId) => {\r\n    if (!reportId || !user) return;\r\n    \r\n    try {\r\n      setProcessing(true);\r\n      \r\n      if (action === 'delete') {\r\n        await axiosInstance.delete(`/api/reports/${reportId}/post`, {\r\n          data: {\r\n            adminId: user.id,\r\n            adminNote: adminNote || 'Post was removed by admin.'\r\n          }\r\n        });\r\n      } else if (action === 'dismiss') {\r\n        await axiosInstance.put(`/api/reports/${reportId}/status`, {\r\n          status: 'REJECTED',\r\n          adminId: user.id,\r\n          adminNote: adminNote || 'Report was dismissed by admin.'\r\n        });\r\n      }\r\n      \r\n      await fetchReportStats();\r\n      await fetchReports(activeTab);\r\n      setSelectedReport(null);\r\n      setAdminNote('');\r\n    } catch (error) {\r\n      console.error('Error performing action:', error);\r\n      setError(\"Error performing action. Please try again.\");\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n  \r\n  const togglePostContent = (reportId) => {\r\n    setExpanded(prev => ({\r\n      ...prev,\r\n      [reportId]: !prev[reportId]\r\n    }));\r\n  };\r\n  \r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return \"Unknown date\";\r\n    try {\r\n      return new Date(dateString).toLocaleString();\r\n    } catch (error) {\r\n      return \"Invalid date\";\r\n    }\r\n  };\r\n  \r\n  const getReasonClass = (reason) => {\r\n    if (!reason) return 'bg-gray-100 text-gray-800';\r\n    \r\n    const reasonStr = String(reason).toLowerCase();\r\n    \r\n    if (reasonStr.includes('inappropriate')) {\r\n      return 'bg-purple-100 text-purple-800';\r\n    } else if (reasonStr.includes('harass') || reasonStr.includes('bull')) {\r\n      return 'bg-red-100 text-red-800';\r\n    } else if (reasonStr.includes('spam') || reasonStr.includes('mislead')) {\r\n      return 'bg-yellow-100 text-yellow-800';\r\n    } else if (reasonStr.includes('hate')) {\r\n      return 'bg-orange-100 text-orange-800';\r\n    } else if (reasonStr.includes('false') || reasonStr.includes('fake')) {\r\n      return 'bg-blue-100 text-blue-800';\r\n    } else if (reasonStr.includes('property') || reasonStr.includes('copyright')) {\r\n      return 'bg-indigo-100 text-indigo-800';\r\n    } else {\r\n      return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex min-h-screen bg-gray-50\">\r\n        <AdminSidebar user={user} />\r\n        <div className=\"flex-1 flex items-center justify-center\">\r\n          <div className=\"bg-white p-8 rounded shadow-md max-w-md w-full\">\r\n            <div className=\"text-red-500 text-center mb-4\">\r\n              <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <h2 className=\"text-lg font-medium mt-2\">Error</h2>\r\n            </div>\r\n            <p className=\"text-gray-600 text-center\">{typeof error === 'string' ? error : 'An error occurred'}</p>\r\n            <div className=\"mt-6 text-center\">\r\n              <button \r\n                onClick={() => {\r\n                  setError(null);\r\n                  fetchReports(activeTab);\r\n                }}\r\n                className=\"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n              >\r\n                Retry\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading && reports.length === 0) {\r\n    return (\r\n      <div className=\"flex min-h-screen bg-gray-50\">\r\n        <AdminSidebar user={user} />\r\n        <div className=\"flex-1 flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-600\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <AdminSidebar user={user} />\r\n      \r\n      <div className=\"flex-1 p-8 overflow-auto\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between mb-6\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Reported Posts</h1>\r\n            \r\n            <div className=\"mt-4 md:mt-0 flex space-x-4\">\r\n              <div className=\"px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-100\">\r\n                <span className=\"text-xs text-gray-500\">Total</span>\r\n                <p className=\"text-lg font-semibold\">{reportStats.total || 0}</p>\r\n              </div>\r\n              <div className=\"px-4 py-2 bg-white rounded-lg shadow-sm border border-yellow-200\">\r\n                <span className=\"text-xs text-yellow-600\">Pending</span>\r\n                <p className=\"text-lg font-semibold text-yellow-600\">{reportStats.pending || 0}</p>\r\n              </div>\r\n              <div className=\"px-4 py-2 bg-white rounded-lg shadow-sm border border-green-200\">\r\n                <span className=\"text-xs text-green-600\">Resolved</span>\r\n                <p className=\"text-lg font-semibold text-green-600\">{reportStats.resolved || 0}</p>\r\n              </div>\r\n              <div className=\"px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-200\">\r\n                <span className=\"text-xs text-gray-500\">Rejected</span>\r\n                <p className=\"text-lg font-semibold text-gray-500\">{reportStats.rejected || 0}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mb-8 border-b border-gray-200\">\r\n            <div className=\"flex space-x-8\">\r\n              <button\r\n                onClick={() => handleTabChange('PENDING')}\r\n                className={`pb-4 font-medium text-sm ${\r\n                  activeTab === 'PENDING'\r\n                    ? 'text-indigo-600 border-b-2 border-indigo-600'\r\n                    : 'text-gray-500 hover:text-gray-700'\r\n                }`}\r\n              >\r\n                Pending\r\n                {reportStats.pending > 0 && (\r\n                  <span className=\"ml-2 py-0.5 px-2.5 rounded-full text-xs bg-yellow-100 text-yellow-800\">\r\n                    {reportStats.pending}\r\n                  </span>\r\n                )}\r\n              </button>\r\n              <button\r\n                onClick={() => handleTabChange('RESOLVED')}\r\n                className={`pb-4 font-medium text-sm ${\r\n                  activeTab === 'RESOLVED'\r\n                    ? 'text-indigo-600 border-b-2 border-indigo-600'\r\n                    : 'text-gray-500 hover:text-gray-700'\r\n                }`}\r\n              >\r\n                Resolved\r\n              </button>\r\n              <button\r\n                onClick={() => handleTabChange('REJECTED')}\r\n                className={`pb-4 font-medium text-sm ${\r\n                  activeTab === 'REJECTED'\r\n                    ? 'text-indigo-600 border-b-2 border-indigo-600'\r\n                    : 'text-gray-500 hover:text-gray-700'\r\n                }`}\r\n              >\r\n                Rejected\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {reports.length === 0 ? (\r\n            <div className=\"bg-white rounded-lg shadow-sm p-8 text-center\">\r\n              <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\r\n              </svg>\r\n              <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No {activeTab.toLowerCase()} reports</h3>\r\n              <p className=\"mt-1 text-gray-500\">\r\n                {activeTab === 'PENDING' \r\n                  ? 'There are no pending reports to review at this time.'\r\n                  : activeTab === 'RESOLVED'\r\n                  ? 'No reports have been resolved yet.'\r\n                  : 'No reports have been rejected yet.'}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\r\n              <ul className=\"divide-y divide-gray-200\">\r\n                {reports.map((report) => {\r\n                  if (!report || typeof report !== 'object') return null;\r\n                  \r\n                  const post = report.postId && postContent[report.postId];\r\n                  const isExpanded = expanded[report.id];\r\n                  \r\n                  return (\r\n                    <li key={report.id || `report-${Math.random().toString(36).substr(2, 9)}`} className=\"hover:bg-gray-50 transition-colors duration-150\">\r\n                      <div className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center space-x-3\">\r\n                            <div className=\"flex-shrink-0\">\r\n                              <span className=\"inline-flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600\">\r\n                                <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                                </svg>\r\n                              </span>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-sm font-medium text-gray-900\">\r\n                                Reported by <span className=\"font-semibold\">{report.reporterName || \"Unknown User\"}</span>\r\n                              </p>\r\n                              <p className=\"text-sm text-gray-500\">\r\n                                {formatDate(report.createdAt)}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getReasonClass(report.reason)}`}>\r\n                            {report.reason || \"Not specified\"}\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        <div className=\"mt-3 pl-13\">\r\n                          <div className=\"rounded-md bg-gray-50 p-3\">\r\n                            <p className=\"text-sm text-gray-700 whitespace-pre-line\">\r\n                              {report.note || \"No additional details provided.\"}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"mt-4 pl-13\">\r\n                          <button\r\n                            onClick={() => togglePostContent(report.id)}\r\n                            className=\"flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors duration-150\"\r\n                          >\r\n                            <svg className={`h-4 w-4 mr-1.5 transform transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                            </svg>\r\n                            {isExpanded ? 'Hide post content' : 'View post content'}\r\n                          </button>\r\n                          \r\n                          {isExpanded && (\r\n                            <div className=\"mt-3 border border-gray-200 rounded-md p-4 bg-white\">\r\n                              {!post ? (\r\n                                <div className=\"flex items-center justify-center h-24\">\r\n                                  <div className=\"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500\"></div>\r\n                                </div>\r\n                              ) : post.error ? (\r\n                                <p className=\"text-red-500 text-sm\">This post may have been deleted or is no longer available.</p>\r\n                              ) : (\r\n                                <>\r\n                                  <div className=\"flex items-center space-x-3 mb-3\">\r\n                                    <div className=\"flex-shrink-0\">\r\n                                      <div className=\"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 font-medium\">\r\n                                        {post.userName?.charAt(0) || 'U'}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div>\r\n                                      <p className=\"text-sm font-medium text-gray-900\">{post.userName || \"Unknown User\"}</p>\r\n                                      <p className=\"text-xs text-gray-500\">{formatDate(post.createdAt)}</p>\r\n                                    </div>\r\n                                  </div>\r\n                                  \r\n                                  <p className=\"text-sm text-gray-800 whitespace-pre-line\">{post.content || \"No content available\"}</p>\r\n                                  \r\n                                  {post.imageUrls && post.imageUrls.length > 0 && (\r\n                                    <div className=\"mt-3 grid grid-cols-2 gap-2\">\r\n                                      {post.imageUrls.slice(0, 4).map((url, index) => (\r\n                                        <div key={index} className=\"rounded-md overflow-hidden h-32 bg-gray-100\">\r\n                                          <img \r\n                                            src={url} \r\n                                            alt={`Post image ${index + 1}`} \r\n                                            className=\"h-full w-full object-cover\"\r\n                                            onError={(e) => {\r\n                                              e.target.onerror = null;\r\n                                              e.target.src = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIEZhaWxlZCB0byBMb2FkPC90ZXh0Pjwvc3ZnPg==\";\r\n                                            }}\r\n                                          />\r\n                                        </div>\r\n                                      ))}\r\n                                      {post.imageUrls.length > 4 && (\r\n                                        <div className=\"rounded-md overflow-hidden h-32 bg-gray-800 flex items-center justify-center\">\r\n                                          <p className=\"text-white font-medium\">+{post.imageUrls.length - 4} more</p>\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                  )}\r\n                                </>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        {activeTab === 'PENDING' && (\r\n                          <div className=\"mt-4 flex justify-end space-x-3\">\r\n                            <button\r\n                              onClick={() => setSelectedReport({...report, action: 'dismiss'})}\r\n                              className=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n                            >\r\n                              Dismiss Report\r\n                            </button>\r\n                            <button\r\n                              onClick={() => setSelectedReport({...report, action: 'delete'})}\r\n                              className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\r\n                            >\r\n                              Delete Post\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                        \r\n                        {(activeTab === 'RESOLVED' || activeTab === 'REJECTED') && report.adminNote && (\r\n                          <div className=\"mt-4 pl-13 border-t border-gray-100 pt-3\">\r\n                            <p className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Admin Note</p>\r\n                            <p className=\"text-sm mt-1 text-gray-700\">{report.adminNote}</p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {selectedReport && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex min-h-screen items-center justify-center px-4\">\r\n            <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" \r\n                 onClick={() => !processing && setSelectedReport(null)}>\r\n            </div>\r\n            \r\n            <div className=\"relative bg-white rounded-lg max-w-md w-full mx-auto shadow-xl transform transition-all\">\r\n              <div className=\"p-6\">\r\n                <div className=\"text-center\">\r\n                  <div className={`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${\r\n                    selectedReport.action === 'delete' ? 'bg-red-100' : 'bg-yellow-100'\r\n                  }`}>\r\n                    {selectedReport.action === 'delete' ? (\r\n                      <svg className=\"h-6 w-6 text-red-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                      </svg>\r\n                    ) : (\r\n                      <svg className=\"h-6 w-6 text-yellow-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                    )}\r\n                  </div>\r\n                  <h3 className=\"mt-4 text-lg font-medium text-gray-900\">\r\n                    {selectedReport.action === 'delete' ? 'Delete Reported Post' : 'Dismiss Report'}\r\n                  </h3>\r\n                  <p className=\"mt-2 text-sm text-gray-500\">\r\n                    {selectedReport.action === 'delete'\r\n                      ? 'Are you sure you want to delete this post? This action cannot be undone.'\r\n                      : 'Are you sure you want to dismiss this report? The post will remain visible to all users.'}\r\n                  </p>\r\n\r\n                  <div className=\"mt-4\">\r\n                    <label htmlFor=\"admin-note\" className=\"block text-left text-sm font-medium text-gray-700\">\r\n                      Add an admin note (optional)\r\n                    </label>\r\n                    <div className=\"mt-1\">\r\n                      <textarea\r\n                        id=\"admin-note\"\r\n                        name=\"admin-note\"\r\n                        rows=\"3\"\r\n                        className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md\"\r\n                        placeholder={selectedReport.action === 'delete' ? \"Reason for deleting this post...\" : \"Reason for dismissing this report...\"}\r\n                        value={adminNote}\r\n                        onChange={(e) => setAdminNote(e.target.value)}\r\n                      ></textarea>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"mt-6 flex justify-end space-x-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n                    onClick={() => setSelectedReport(null)}\r\n                    disabled={processing}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={`inline-flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ${\r\n                      selectedReport.action === 'delete'\r\n                        ? 'bg-red-600 hover:bg-red-700 focus:ring-red-500'\r\n                        : 'bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500'\r\n                    }`}\r\n                    onClick={() => handleReportAction(selectedReport.action, selectedReport.id)}\r\n                    disabled={processing}\r\n                  >\r\n                    {processing ? (\r\n                      <>\r\n                        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                        </svg>\r\n                        Processing...\r\n                      </>\r\n                    ) : selectedReport.action === 'delete' ? 'Delete Post' : 'Dismiss Report'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportedPosts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}